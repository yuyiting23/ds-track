# apply, used to evaluate a function over margin of an array(matrix)

> x <- matrix(1:30, 3, 10)
> x
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]    1    4    7   10   13   16   19   22   25    28
[2,]    2    5    8   11   14   17   20   23   26    29
[3,]    3    6    9   12   15   18   21   24   27    30

# apply mean by "row"
> apply(x, MARGIN = 1, FUN = mean)
[1] 14.5 15.5 16.5

# apply sum by "column"
> apply(x, MARGIN = 2, FUN = sum)
 [1]  6 15 24 33 42 51 60 69 78 87



> y <- matrix(rnorm(20), 5, 4)
> y
           [,1]       [,2]       [,3]       [,4]
[1,]  0.1237430 -1.0108021  0.8174572  1.3353205
[2,]  1.5342229  1.3759148 -0.5432583 -0.5592764
[3,]  0.5668281 -0.9593396 -0.1369120 -0.6415261
[4,] -0.6468952  0.3753765  1.4455690  0.5049338
[5,] -0.9957182 -0.2806178 -0.4306111 -0.7283567
> apply(y, MARGIN = 1, FUN = quantile, probs = c(0.25, 0.5, 0.75))
          [,1]       [,2]        [,3]      [,4]       [,5]
25% -0.1598933 -0.5472628 -0.72097945 0.1198086 -0.7951970
50%  0.4706001  0.4163283 -0.38921900 0.4401551 -0.5794839
75%  0.9469230  1.4154919  0.03902306 0.7400926 -0.3931128

